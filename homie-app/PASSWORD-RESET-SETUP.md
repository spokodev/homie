# –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –í—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –ü–∞—Ä–æ–ª—è —á–µ—Ä–µ–∑ Deep Link

## –©–æ –±—É–ª–æ –∑—Ä–æ–±–ª–µ–Ω–æ

1. ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–æ —Å—Ç–æ—Ä—ñ–Ω–∫—É `/app/(auth)/reset-password.tsx` –¥–ª—è –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–∞—Ä–æ–ª—è
2. ‚úÖ –î–æ–¥–∞–Ω–æ –º–∞—Ä—à—Ä—É—Ç –¥–æ `app/(auth)/_layout.tsx`
3. ‚úÖ –û–Ω–æ–≤–ª–µ–Ω–æ `redirectTo` –≤ `src/lib/supabase.ts` –∑ `homie://reset-password` –Ω–∞ `homie://auth/reset-password`
4. ‚úÖ –î–æ–¥–∞–Ω–æ password visibility toggle (–º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –±–∞—á–∏—Ç–∏ –ø–∞—Ä–æ–ª—å –ø—Ä–∏ –≤–≤–µ–¥–µ–Ω–Ω—ñ)

## –©–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑—Ä–æ–±–∏—Ç–∏ –≤ Supabase Dashboard

–©–æ–± reset password emails –ø—Ä–∞—Ü—é–≤–∞–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–æ–¥–∞—Ç–∏ deep link URL –¥–æ —Å–ø–∏—Å–∫—É –¥–æ–∑–≤–æ–ª–µ–Ω–∏—Ö redirect URLs –≤ Supabase:

### –ö—Ä–æ–∫–∏:

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ Supabase Dashboard: https://supabase.com/dashboard/project/ojmmvaozttdrgvthcjit
2. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤ **Authentication** ‚Üí **URL Configuration**
3. –ó–Ω–∞–π–¥—ñ—Ç—å –ø–æ–ª–µ **Redirect URLs**
4. –î–æ–¥–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω—ñ URLs (—è–∫—â–æ —ó—Ö —â–µ –Ω–µ–º–∞—î):
   ```
   homie://auth/reset-password
   homie://*
   ```
5. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Save**

### –î–æ–¥–∞—Ç–∫–æ–≤–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Email Templates (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

–Ø–∫—â–æ —Ö–æ—á–µ—Ç–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ —Ç–µ–∫—Å—Ç email –¥–ª—è –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–∞—Ä–æ–ª—è:

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤ **Authentication** ‚Üí **Email Templates**
2. –í–∏–±–µ—Ä—ñ—Ç—å **Reset Password**
3. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤ —à–∞–±–ª–æ–Ω—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –∑–º—ñ–Ω–Ω–∞ `{{ .ConfirmationURL }}`
4. Supabase –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—ñ–¥—Å—Ç–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π URL –∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `access_token`

## –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î

1. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–≤–æ–¥–∏—Ç—å email –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ "Forgot Password"
2. Supabase –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î email –∑ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º —Ç–∏–ø—É:
   ```
   homie://auth/reset-password?access_token=...&type=recovery
   ```
3. –ü—Ä–∏ –∫–ª—ñ–∫—É –Ω–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è:
   - –ù–∞ –º–æ–±—ñ–ª—å–Ω–æ–º—É –ø—Ä–∏—Å—Ç—Ä–æ—ó: –¥–æ–¥–∞—Ç–æ–∫ –≤—ñ–¥–∫—Ä–∏–≤–∞—î—Ç—å—Å—è —ñ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É reset-password
   - –í —Å–∏–º—É–ª—è—Ç–æ—Ä—ñ: –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –∫–æ–º–∞–Ω–¥—É `xcrun simctl openurl booted "homie://auth/reset-password?access_token=..."`
4. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–≤–æ–¥–∏—Ç—å –Ω–æ–≤–∏–π –ø–∞—Ä–æ–ª—å
5. –ü–∞—Ä–æ–ª—å –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è —á–µ—Ä–µ–∑ `supabase.auth.updateUser()`
6. –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π —Ä–µ–¥—ñ—Ä–µ–∫—Ç –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É login

## –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –í –°–∏–º—É–ª—è—Ç–æ—Ä—ñ:

1. –ù–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ login –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å "Forgot Password?"
2. –í–≤–µ–¥—ñ—Ç—å email —ñ –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å "Send Reset Link"
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ email
4. –°–∫–æ–ø—ñ—é–π—Ç–µ URL –∑ email (–≤—ñ–Ω –±—É–¥–µ –ø–æ—á–∏–Ω–∞—Ç–∏—Å—è –∑ `homie://`)
5. –í—ñ–¥–∫—Ä–∏–π—Ç–µ –≤ —Å–∏–º—É–ª—è—Ç–æ—Ä—ñ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É:
   ```bash
   xcrun simctl openurl booted "PASTE_URL_HERE"
   ```

### –ù–∞ –†–µ–∞–ª—å–Ω–æ–º—É –ü—Ä–∏—Å—Ç—Ä–æ—ó:

1. –ù–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ login –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å "Forgot Password?"
2. –í–≤–µ–¥—ñ—Ç—å email —ñ –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å "Send Reset Link"
3. –í—ñ–¥–∫—Ä–∏–π—Ç–µ email –Ω–∞ –ø—Ä–∏—Å—Ç—Ä–æ—ó
4. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –Ω–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è - –¥–æ–¥–∞—Ç–æ–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤—ñ–¥–∫—Ä–∏—î—Ç—å—Å—è

## –ü—Ä–æ–±–ª–µ–º–∏ —ñ –í–∏—Ä—ñ—à–µ–Ω–Ω—è

### –ü—Ä–æ–±–ª–µ–º–∞: Email –º—ñ—Å—Ç–∏—Ç—å `localhost:3000` –∑–∞–º—ñ—Å—Ç—å `homie://`

**–†—ñ—à–µ–Ω–Ω—è:** –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ –≤–∏ –¥–æ–¥–∞–ª–∏ `homie://auth/reset-password` –¥–æ Redirect URLs –≤ Supabase Dashboard.

### –ü—Ä–æ–±–ª–µ–º–∞: Deep link –Ω–µ –≤—ñ–¥–∫—Ä–∏–≤–∞—î –¥–æ–¥–∞—Ç–æ–∫

**–†—ñ—à–µ–Ω–Ω—è:**
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ `scheme: "homie"` –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ –≤ `app.json` ‚úÖ (–≤–∂–µ —î)
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å –¥–æ–¥–∞—Ç–æ–∫ –ø—ñ—Å–ª—è –∑–º—ñ–Ω –≤ app.json
3. –ù–∞ iOS –º–æ–∂–ª–∏–≤–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–µ—Ä–µ—ñ–Ω—Å—Ç–∞–ª—é–≤–∞—Ç–∏ –¥–æ–¥–∞—Ç–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∞: "Invalid token" –ø—Ä–∏ –≤—ñ–¥–∫—Ä–∏—Ç—Ç—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è

**–†—ñ—à–µ–Ω–Ω—è:**
1. –¢–æ–∫–µ–Ω–∏ –º–∞—é—Ç—å —Ç–µ—Ä–º—ñ–Ω –¥—ñ—ó (–∑–∞–∑–≤–∏—á–∞–π 1 –≥–æ–¥–∏–Ω–∞)
2. –ó–∞–ø–∏—Ç–∞–π—Ç–µ –Ω–æ–≤–∏–π reset link
3. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ —Å—Ç–∞—Ä–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è

## –ü—Ä–∏–º—ñ—Ç–∫–∏

- –¢–æ–∫–µ–Ω –≤ URL –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–±—Ä–æ–±–ª—è—î—Ç—å—Å—è Supabase SDK
- –°–µ—Å—ñ—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤—ñ–¥–Ω–æ–≤–ª—é—î—Ç—å—Å—è –∫–æ–ª–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤—ñ–¥–∫—Ä–∏–≤–∞—î deep link
- –ü—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ–≥–æ reset –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –±—É–¥–µ –∑–∞–ª–æ–≥—ñ–Ω–µ–Ω–∏–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
- Password visibility toggle –¥–æ–¥–∞–Ω–æ –¥–ª—è –∑—Ä—É—á–Ω–æ—Å—Ç—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (emoji üëÅÔ∏è –¥–ª—è –ø–æ–∫–∞–∑—É/–ø—Ä–∏—Ö–æ–≤—É–≤–∞–Ω–Ω—è)
